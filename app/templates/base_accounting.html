{% extends "base_admin.html" %}
{% block title %}{{ _('Accounting') }}{% endblock %}
{% block header %}{{ _('Accounting Portal') }}{% endblock %}
{% block content %}
<div class="max-w-7xl mx-auto grid grid-cols-12 gap-6">

  <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->
  <aside class="col-span-12 md:col-span-3 lg:col-span-2">
    <nav class="bg-white border border-slate-200 rounded-2xl shadow-sm p-3 sticky top-6">
      <h2 class="text-blue-900 font-semibold text-base mb-3">{{ _('Menu') }}</h2>
      <div class="space-y-1 text-sm font-medium">
        <a href="{{ url_for('acct.dashboard') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint=='acct.dashboard' %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ“Š {{ _('Dashboard') }}
        </a>
        <a href="{{ url_for('acct.costs_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.costs') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ’¸ {{ _('International Costs') }}
        </a>
        <a href="{{ url_for('acct.invoices_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.invoices') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ§¾ {{ _('Invoices') }}
        </a>
        <a href="{{ url_for('acct.accounts_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.accounts') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ“’ {{ _('Chart of Accounts') }}
        </a>
        <a href="{{ url_for('acct.vehicles_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.vehicles') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸš— {{ _('Vehicle Accounting') }}
        </a>
        <a href="{{ url_for('acct.payments_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.payments') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ’° {{ _('Payments') }}
        </a>
        <a href="{{ url_for('acct.bol_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.bol') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸš¢ {{ _('Bill of Lading') }}
        </a>
        <a href="{{ url_for('acct.reports') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.reports') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ“ˆ {{ _('Reports') }}
        </a>
        <a href="{{ url_for('acct.client_view') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint=='acct.client_view' %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ‘¤ {{ _('Client Accounting') }}
        </a>
        <a href="{{ url_for('acct.journals_list') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint and request.endpoint.startswith('acct.journals') %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          ğŸ“š {{ _('Journals') }}
        </a>
        <div class="mt-3 border-t border-slate-200 pt-3 text-xs text-slate-500">{{ _('Financial Statements') }}</div>
        <a href="{{ url_for('acct.reports', type='balance_sheet') }}" class="block px-3 py-2 rounded-lg text-blue-900 hover:bg-blue-50">{{ _('Balance Sheet') }}</a>
        <a href="{{ url_for('acct.reports', type='monthly') }}" class="block px-3 py-2 rounded-lg text-blue-900 hover:bg-blue-50">{{ _('Profit & Loss') }}</a>
        <a href="{{ url_for('acct.reports', type='taxes') }}" class="block px-3 py-2 rounded-lg text-blue-900 hover:bg-blue-50">{{ _('VAT / Taxes') }}</a>
        <a href="{{ url_for('acct.reports', type='trial_balance') }}" class="block px-3 py-2 rounded-lg text-blue-900 hover:bg-blue-50">{{ _('Trial Balance') }}</a>
        <a href="{{ url_for('acct.reports', type='general_ledger') }}" class="block px-3 py-2 rounded-lg text-blue-900 hover:bg-blue-50">{{ _('General Ledger') }}</a>
        <a href="{{ url_for('acct.reports', type='cash_flow') }}" class="block px-3 py-2 rounded-lg text-blue-900 hover:bg-blue-50">{{ _('Cash Flow') }}</a>
        <a href="{{ url_for('acct.settings') }}" 
           class="block px-3 py-2 rounded-lg transition 
                  {% if request.endpoint=='acct.settings' %}bg-blue-700 text-white shadow-sm{% else %}text-blue-900 hover:bg-blue-50{% endif %}">
          âš™ï¸ {{ _('Settings') }}
        </a>
      </div>
    </nav>
  </aside>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <section class="col-span-12 md:col-span-9 lg:col-span-10">
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat, msg in messages %}
          <div class="mb-4 p-3 rounded-xl border shadow-sm 
                      {% if cat=='success' %}bg-green-50 border-green-300 text-green-700
                      {% else %}bg-red-50 border-red-300 text-red-700{% endif %}">
            {{ msg }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <div class="bg-white border border-slate-200 rounded-2xl shadow-sm p-6">
      {% block acct_content %}{% endblock %}
    </div>
  </section>

</div>
{% endblock %}
