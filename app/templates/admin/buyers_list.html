{% extends "base_admin.html" %}
{% block title %}البايرات{% endblock %}
{% block header %}البايرات{% endblock %}
{% block content %}
<style>
  .buyers-card { background:#fff; border:1px solid #e5e7eb; border-radius:16px; box-shadow:0 6px 20px rgba(0,0,0,0.05); overflow:hidden; }
  .buyers-header { padding:16px 20px; display:flex; align-items:center; justify-content:space-between; }
  .buyers-title { margin:0; font-size:18px; font-weight:600; }
  .buyers-table { width:100%; border-collapse:collapse; font-size:14px; }
  .buyers-table thead { background:#f9fafb; color:#6b7280; }
  .buyers-table th, .buyers-table td { padding:12px 14px; text-align:right; }
  .buyers-table tbody tr { border-top:1px solid #f1f5f9; }
  .muted { color:#6b7280; }
  @media (max-width: 640px) {
    .buyers-table th, .buyers-table td { padding:10px; font-size:13px; }
  }
  /* RTL helpers if needed */
  [dir="rtl"] .buyers-table th, [dir="rtl"] .buyers-table td { text-align:right; }
  [dir="rtl"] .buyers-header { direction:rtl; }
  .center { text-align:center; }
  .nowrap { white-space:nowrap; }
  .container { max-width:100%; }
  @media (min-width: 1024px) { .container { max-width: 1000px; margin-inline:auto; } }
  .spacer { height: 8px; }
</style>

<div class="container" dir="rtl">
  <div class="buyers-card">
    <div class="buyers-header">
      <h2 class="buyers-title">قائمة البايرات</h2>
    </div>
    <div class="spacer"></div>
    <div style="overflow-x:auto;">
      <table class="buyers-table">
        <thead>
          <tr>
            <th class="nowrap">رقم الباير</th>
            <th class="nowrap">الباسوورد</th>
            <th class="nowrap">العميل</th>
          </tr>
        </thead>
        <tbody>
          {% for b in buyers %}
          <tr>
            <td>{{ b.buyer_number or '-' }}</td>
            <td>{{ b.password or '-' }}</td>
            <td>{{ (b.customer.company_name or b.customer.full_name) if b.customer else '-' }}</td>
          </tr>
          {% else %}
          <tr>
            <td colspan="3" class="center muted">لا توجد بيانات حالياً</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
